# Elastic Fabric Adapter<a name="efa-v3"></a>

Elastic Fabric Adapter \(EFA\) is a network device that has OS\-bypass capabilities for low\-latency network communications with other instances on the same subnet\. EFA is exposed by using Libfabric, and can be used by applications using the Messaging Passing Interface \(MPI\)\. To use EFA with AWS ParallelCluster and a Slurm scheduler, set [`SlurmQueues`](Scheduling-v3.md#Scheduling-v3-SlurmQueues) / [`ComputeResources`](Scheduling-v3.md#Scheduling-v3-SlurmQueues-ComputeResources) / [Efa](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-ComputeResources-Efa) / [Enabled](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-ComputeResources-Efa-Enabled) to `true`\. EFA is supported by specific instance types \([`compute_instance_type`](cluster-definition.md#compute-instance-type) are to be one of `c5n.18xlarge`, `c5n.metal`, `g4dn.metal`, `i3en.24xlarge`, `i3en.metal`, `m5dn.24xlarge`, `m5n.24xlarge`, `m5zn.12xlarge`, `m5zn.metal`, `r5dn.24xlarge`, `r5n.24xlarge`, `p3dn.24xlarge`, and `p4d.24xlarge` for x86\-64 instances and `c6gn.16xlarge` for Arm\-based Graviton2 instances\) on specific operating systems \([`base_os`](cluster-definition.md#base-os) is `alinux2`, `centos7`, `ubuntu1804`, or `ubuntu2004` for x86\-64 instances and `alinux2`, `ubuntu1804`, or `ubuntu2004` for Arm\-based Graviton2 instances\)\. We recommend that you run your EFA\-enabled instances in a placement group\. This way the instances are launched into a low\-latency group in a single Availability Zone\. For more information on how to configure placement groups with AWS ParallelCluster, see [`SlurmQueues`](Scheduling-v3.md#Scheduling-v3-SlurmQueues) / [`Networking`](Scheduling-v3.md#Scheduling-v3-SlurmQueues-Networking) / [PlacementGroup](Scheduling-v3.md#yaml-Scheduling-SlurmQueues-Networking-PlacementGroup)\.

For more information, see [Elastic Fabric Adapter](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/efa.html) in the *Amazon EC2 User Guide for Linux Instances* and [Scale HPC workloads with elastic fabric adapter and AWS ParallelCluster](https://aws.amazon.com/blogs/opensource/scale-hpc-workloads-elastic-fabric-adapter-and-aws-parallelcluster/) in the *AWS Open Source Blog*\.

**Note**  
By default, Ubuntu distributions enable ptrace \(process trace\) protection\. ptrace protection is disabled so that Libfabric works properly\. For more information, see [Disable ptrace protection](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/efa-start.html#efa-start-ptrace) in the *Amazon EC2 User Guide for Linux Instances*\.